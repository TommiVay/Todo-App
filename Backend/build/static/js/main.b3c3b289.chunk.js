(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{16:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII="},44:function(e,t,a){e.exports=a(76)},51:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),u=a.n(c),s=a(14),l=a(3),o=a.n(l),i=a(5),m=a(13),p=(a(50),a(51),a(15)),d=a.n(p),f="/tasks",h=null,v={getTasks:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{authorization:h}},e.next=3,d.a.get(f+"/my",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),remove:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{authorization:h}},e.next=3,d.a.delete(f+"/"+t._id,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{authorization:h}},e.next=3,d.a.post(f,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{authorization:h}},e.next=3,d.a.put(f+"/"+t._id,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){h="bearer ".concat(e)}},b=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],c=a[1];return{type:e,value:r,onChange:function(e){c(e.target.value)},reset:function(){c("")}}},E=a(6),g=a(16),k=a.n(g),w=a(81),A=a(78),j=a(83),x=a(82),N=a(79),T=function(e){var t=e.handleLogin,a=Object(E.g)(),c=b("text"),u=b("password"),l=Object(n.useState)(null),p=Object(m.a)(l,2),d=p[0],f=p[1],h=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,t({username:c.value,password:u.value});case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),n=e.t0.response.data.error,f(n),setTimeout((function(){return f(null)}),4e3),c.reset(),u.reset();case 11:case"end":return e.stop()}var n}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){e.reset;return Object(s.a)(e,["reset"])};return r.a.createElement("div",{className:"Login"},r.a.createElement("h1",null,"Todo App"),r.a.createElement("form",{onSubmit:h},r.a.createElement("h2",null,"Sing in"),r.a.createElement(w.a,{show:null!=d,variant:"danger"},d),r.a.createElement(A.a,{controlId:"email",size:"lg"},r.a.createElement(j.a,null,"Username"),r.a.createElement(x.a,Object.assign({autoFocus:!0},v(c)))),r.a.createElement(A.a,{controlId:"password",size:"lg"},r.a.createElement(j.a,null,"Password"),r.a.createElement(x.a,v(u))),r.a.createElement(N.a,{disabled:!(0!==(c.value.length&&u.value.length)),block:!0,size:"lg",type:"submit"},"Sing in"),r.a.createElement("div",{className:"Links"},r.a.createElement("p",null,"or"),r.a.createElement("p",{className:"Redirect",onClick:function(){return a.push("/register")}},"create an account"),r.a.createElement("a",{href:"https://github.com/TommiVay",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:k.a,alt:"Github"})))))},O=function(e){var t=e.createTask,a=b("text"),n=b("text"),c=function(e){e.reset;return Object(s.a)(e,["reset"])},u=""===a.value||""===n.value,l=function(){var e=Object(i.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),t({name:a.value,description:n.value,status:!0}),a.reset(),n.reset();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"Form",onSubmit:l},r.a.createElement("div",null,r.a.createElement(A.a,{controlId:"name",size:"large"},r.a.createElement(j.a,null,"Name"),r.a.createElement(x.a,Object.assign({variant:"",autoFocus:!0},c(a)))),r.a.createElement(A.a,{controlId:"description",size:"large"},r.a.createElement(j.a,null,"Description"),r.a.createElement(x.a,c(n)))),r.a.createElement(N.a,{variant:"",type:"submit",disabled:u},"Add task"))},I=function(e){var t=e.task,a=e.handleUpdate,n=e.handleDelete,c=t.status?"":"line-through";return r.a.createElement("div",{className:"Task"},r.a.createElement("div",{className:"Task--text"},r.a.createElement("h1",{className:c},t.name),r.a.createElement("span",{className:c},t.description)),r.a.createElement("div",null,r.a.createElement(N.a,{className:t.status?"Task--buttonComplete":"hide-button",onClick:function(){return a(t)}},"Complete"),r.a.createElement(N.a,{variant:"",className:"Task--buttonDelete",onClick:function(){return n(t)}},"Delete")))},y=a(80),J=function(e){var t=e.handleLogout,a=Object(n.useState)([]),c=Object(m.a)(a,2),u=c[0],s=c[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getTasks();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.create(t);case 2:a=e.sent,s(u.concat(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.remove(t),s(u.filter((function(e){return e._id!==t._id})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.status=!1,e.next=3,v.update(t);case 3:a=e.sent,s(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(y.a,{className:"App"},r.a.createElement("div",{className:"Links"},r.a.createElement("a",{className:"Git",href:"https://github.com/TommiVay",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:k.a,alt:"Github"})),r.a.createElement(N.a,{onClick:t,className:"Logout"},"Logout"),r.a.createElement("h1",null,"My Todos")),r.a.createElement(O,{createTask:p}),u.map((function(e){return r.a.createElement(I,{key:e._id,task:e,handleDelete:d,handleUpdate:f})})))},S={create:function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(e){var t=e.handleLogin,a=Object(E.g)(),c=b("text"),u=b("password"),l=b("password"),p=Object(n.useState)(null),d=Object(m.a)(p,2),f=d[0],h=d[1],v=function(e){h(e),setTimeout((function(){return h(null)}),4e3)},g=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(c.value.length<3||u.value.length<3)){e.next=4;break}return v("Username and password must be atleast 3 characters long"),e.abrupt("return");case 4:if(u.value===l.value){e.next=9;break}return v("Passwords are not matching"),u.reset(),l.reset(),e.abrupt("return");case 9:return e.prev=9,e.next=12,S.create({username:c.value,password:u.value});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(9),v(e.t0.response.data.error),e.abrupt("return");case 18:return e.next=20,t({username:c.value,password:u.value});case 20:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e){e.reset;return Object(s.a)(e,["reset"])};return r.a.createElement("div",{className:"Login"},r.a.createElement("h1",null,"Todo App"),r.a.createElement("form",{onSubmit:g},r.a.createElement("h2",null,"Sing up"),r.a.createElement(w.a,{show:null!==f,variant:"danger"},f),r.a.createElement(A.a,{controlId:"username",size:"large"},r.a.createElement(j.a,null,"Username"),r.a.createElement(x.a,Object.assign({autoFocus:!0},T(c)))),r.a.createElement(A.a,{controlId:"password",size:"large"},r.a.createElement(j.a,null,"Password"),r.a.createElement(x.a,T(u))),r.a.createElement(A.a,{controlId:"confirmPassword",size:"large"},r.a.createElement(j.a,null,"Confirm Password"),r.a.createElement(x.a,T(l))),r.a.createElement(N.a,{disabled:!(0!==(c.value.length&&u.value.length&&l.value.length)),block:!0,size:"lg",type:"submit"},"Sing up"),r.a.createElement("div",{className:"Links"},r.a.createElement("p",null,"Already have an account?"),r.a.createElement("p",{className:"Redirect",onClick:function(){return a.push("/login")}},"Sing in"),r.a.createElement("a",{href:"https://github.com/TommiVay",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:k.a,alt:"Github"})))))},U=a(20),G={login:function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var M=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedTodoAppUser");if(e){var t=JSON.parse(e);c(t),v.setToken(t.token)}}),[]);var u=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.login(t);case 2:a=e.sent,window.localStorage.setItem("loggedTodoAppUser",JSON.stringify(a)),c(a),v.setToken(a.token);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t=e.children,n=Object(s.a)(e,["children"]);return r.a.createElement(E.b,n,null!=a?t:r.a.createElement(E.a,{to:{pathname:"/login"}}))},p=function(e){var t=e.children,n=Object(s.a)(e,["children"]);return r.a.createElement(E.b,n,null===a?t:r.a.createElement(E.a,{to:{pathname:"/todo"}}))};return r.a.createElement(U.a,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/"},r.a.createElement(E.a,{to:{pathname:"/todo"}})),r.a.createElement(p,{exact:!0,path:"/login"},r.a.createElement(T,{handleLogin:u})),r.a.createElement(p,{exact:!0,path:"/register"},r.a.createElement(D,{handleLogin:u})),r.a.createElement(l,{exact:!0,path:"/todo"},r.a.createElement(J,{handleLogout:function(){window.localStorage.clear(),v.setToken(null),c(null)}}))))};u.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.b3c3b289.chunk.js.map